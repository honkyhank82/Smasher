================================================================================
  🚀 SMASHER MULTI-SERVER SETUP - QUICK START
================================================================================

WHAT YOU GET
✅ Web App (React) - Same features as mobile app
✅ Automatic Failover - 3 backend servers  
✅ Shared Database - All servers connected
✅ Easy Deployment - One-command scripts

================================================================================
GETTING STARTED IN 3 STEPS
================================================================================

STEP 1: PREPARE (5 minutes)
───────────────────────────────────────────────────────────────────────────────
You need:
  □ PostgreSQL database URL (create free on Railway)
  □ JWT Secret (random 32-character string)
  □ Resend API key (for email)
  □ Cloudflare R2 credentials (for photos)

Action: Write these down before continuing

STEP 2: RUN SETUP (5 minutes)
───────────────────────────────────────────────────────────────────────────────
From PowerShell in d:\Dev\smasher:

  .\setup-all.ps1

Choose:
  1. Install CLI tools (Fly, Railway, Vercel)
  2. Setup environment variables (paste your values)

STEP 3: DEPLOY (15 minutes)
───────────────────────────────────────────────────────────────────────────────
From PowerShell in d:\Dev\smasher:

  .\deploy-all-servers.ps1

Choose:
  5. Deploy to ALL servers (builds once, deploys everywhere)

Wait for completion. When done, test:
  https://smasher-web.vercel.app

DONE! ✅

================================================================================
FILE GUIDE - WHICH DOCUMENT TO READ
================================================================================

📖 CONFUSED? START HERE → START_HERE.md
   Quick navigation guide to all documentation

⚡ WANT TO DEPLOY NOW? → DEPLOYMENT_CHECKLIST.md  
   Step-by-step checklist (30 minutes to production)

📚 WANT TO UNDERSTAND EVERYTHING? → MULTI_SERVER_DEPLOYMENT.md
   Complete 40+ page reference guide

🌐 JUST THE WEB APP? → WEB_APP_SETUP.md
   React app specific guide

📋 QUICK OVERVIEW? → SETUP_COMPLETE.md
   Executive summary of entire setup

🎯 WHAT WAS CREATED? → IMPLEMENTATION_SUMMARY.md
   List of all files and what's included

================================================================================
WHAT'S DEPLOYED WHERE
================================================================================

Primary Server (Fly.io)
  URL: https://smasher-api.fly.dev
  Already running
  
Backup Servers (Ready to deploy)
  Railway: https://smasher-production.up.railway.app
  Render:  https://smasher.onrender.com

Web App (Deploy this)
  Vercel: https://smasher-web.vercel.app

Database (Shared)
  PostgreSQL: All servers connect to same DB

================================================================================
HOW AUTOMATIC FAILOVER WORKS
================================================================================

1. Users access web app or mobile app
2. App checks health of servers (every 60 seconds)
3. Tries to use Fly.io (primary)
4. If down, switches to Railway (secondary) 
5. If down, switches to Render (tertiary)
6. User doesn't notice anything - seamless!

When servers recover:
  1. App detects they're back up
  2. Automatically switches back
  3. No data loss or interruption

================================================================================
ENVIRONMENT VARIABLES YOU NEED
================================================================================

DATABASE_URL=postgresql://user:pass@host:5432/smasher
JWT_SECRET=your-random-32-character-secret-key-here
RESEND_API_KEY=re_xxxxxxxxxxxxx
FROM_EMAIL=noreply@smasher.app
R2_ACCOUNT_ID=your-account-id
R2_ACCESS_KEY_ID=your-access-key
R2_SECRET_ACCESS_KEY=your-secret-key
R2_BUCKET_NAME=smasher-media
R2_PUBLIC_URL=https://r2.smasher.app
PORT=3001
NODE_ENV=production

Get DATABASE_URL:
  1. Go to railway.app
  2. Create new PostgreSQL service
  3. Copy connection URL from variables

================================================================================
QUICK COMMANDS REFERENCE
================================================================================

Setup:
  .\setup-all.ps1

Deploy:
  .\deploy-all-servers.ps1

Check Health:
  .\deploy-all-servers.ps1
  (Choose option 6: Check server health)

View Logs:
  fly logs --follow                    (Fly.io)
  railway logs                          (Railway)

Manual Deployment:
  fly deploy                            (Fly.io)
  railway up                            (Railway)
  vercel --prod                         (Web app)

Test Servers:
  curl https://smasher-api.fly.dev/health
  curl https://smasher-production.up.railway.app/health

================================================================================
TROUBLESHOOTING
================================================================================

"Setup script won't run"
  → Run PowerShell as Administrator
  → Or: Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

"Can't find CLI tools"
  → Run setup-all.ps1 and choose option 1
  → Or: npm install -g flyctl @railway/cli vercel

"Database connection fails"
  → Check DATABASE_URL format
  → Test connection with: psql $DATABASE_URL
  → Verify host is accessible

"Deploy fails"
  → Check logs: fly logs or railway logs
  → Verify .env file exists in server/
  → Run: npm run build (to test locally)

"Failover not working"
  → Check health endpoints:
     curl https://smasher-api.fly.dev/health
  → Check browser console for errors
  → Verify backend URLs in app-web/src/config/api.ts

================================================================================
EXPECTED TIMELINE
================================================================================

Total Time: ~1 hour

  Preparation:        5 minutes  (gather credentials)
  CLI Setup:          5 minutes  (install tools)
  Config Setup:       5 minutes  (enter environment vars)
  Deployment:        30 minutes  (build and deploy)
  Testing:           10 minutes  (verify features)
  Documentation:     ~5 minutes  (read setup guide)

After that: Deployment is COMPLETE ✅

================================================================================
MONITORING & NEXT STEPS
================================================================================

After Deployment:

1. Monitor Health (first 24 hours)
   ✓ Check server status: .\deploy-all-servers.ps1 → option 6
   ✓ Monitor error logs
   ✓ Test on real devices

2. Test Failover
   ✓ Stop Fly.io: fly scale count 0
   ✓ Refresh web app (should switch to Railway)
   ✓ Restart Fly.io: fly scale count 1
   ✓ Refresh web app (should switch back)

3. Share with Users
   ✓ Web App URL: https://smasher-web.vercel.app
   ✓ Mobile Apps: Google Play & App Store links

4. Monitor Ongoing
   ✓ Setup UptimeRobot (free): uptimerobot.com
   ✓ Monitor database: Railway dashboard
   ✓ Monitor costs: Each platform has dashboard

================================================================================
COSTS
================================================================================

Monthly Estimates (scales with usage):

  Fly.io:          $5-30/mo
  Railway:         $5-30/mo  
  Railway DB:      $15-50/mo
  Render:          Free-7/mo
  Vercel:          Free-20/mo
  ──────────────────────────
  Total:           $30-150/mo

Free tier: Good for 0-1000 monthly active users

================================================================================
NEED HELP?
================================================================================

1. READ: START_HERE.md (quick navigation)
2. READ: DEPLOYMENT_CHECKLIST.md (step by step)
3. READ: MULTI_SERVER_DEPLOYMENT.md (full reference)
4. SEARCH: Troubleshooting section in docs
5. CHECK: Server logs (fly logs, railway logs)

================================================================================
YOU'RE ALL SET! 🎉
================================================================================

Everything is prepared and ready to deploy.

You have:
  ✅ Web app (React) - ready to deploy
  ✅ Failover system - configured
  ✅ Database support - ready
  ✅ Deployment scripts - automated
  ✅ Documentation - comprehensive

Next: Run .\setup-all.ps1

Questions? Open START_HERE.md

Let's go! 🚀

================================================================================
Version: 1.0.15
Status: ✅ Production Ready
Last Updated: 2024
================================================================================